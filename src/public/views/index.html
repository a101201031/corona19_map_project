<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Coronas</title>
  </head>
  <body>
    <link rel="stylesheet" href="/css/index.css" />
    <script
      type="text/javascript"
      src="//dapi.kakao.com/v2/maps/sdk.js?appkey=deed8eaf41b980da7248c7b3da36b0da&libraries=services"
    ></script>
    <script type="text/javascript" src="/javascript/getLocation.js"></script>
    <script type="text/javascript" src="/javascript/mapApiFunction.js"></script>
    <div class="top-borad">
      <div class="left-top-div" style="color: white;"><span>HELLO</span></div>
    </div>
    <div id="map"></div>
    <script>
      const container = document.getElementById('map');
      const options = {
        center: new kakao.maps.LatLng(defaultLocation.latitude, defaultLocation.longitude),
        level: 13,
      };
      const map = new kakao.maps.Map(container, options);
      const geocoder = new kakao.maps.services.Geocoder();
      const regionCodeCollback = (result, status) => {
        if (status === kakao.maps.services.Status.OK) {
          console.log('지역 명칭 : ' + result[0].address_name);
          console.log('행정구역 코드 : ' + result[0].code);
        }
      };
      getLocation()
        .then((location) => {
          moveMap(map, location);
          setLevelMap(map, 8);
          geocoder.coord2RegionCode(location.longitude, location.latitude, regionCodeCollback);
          // let myLocation = new kakao.maps.LatLng(location.latitude, location.longitude);
          // let myLevel = map.getLevel();
          // ();
          // map.setCenter(myLocation);
        })
        .catch(() => {
          alert('위치 정보 가져오기 실패.');
        });
    </script>
  </body>
</html>
